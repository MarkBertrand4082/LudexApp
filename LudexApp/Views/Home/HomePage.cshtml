@* Andrew Neto *@
@model LudexApp.Models.ViewModels.HomePageViewModel
@{
    ViewData["Title"] = "Ludex - Home";
}

<h1>Welcome to Ludex</h1>

<hr />

<!-- ================================================== -->
<!-- TOP NAVIGATION AREA -->
<!-- ================================================== -->
@if (!Model.IsLoggedIn)
{
    <p>You are currently browsing as a guest.</p>

    <div class="mb-3">
        <!-- Login/Register -->
        <form asp-controller="User" asp-action="Register" method="get">
            <button type="submit" class="btn btn-primary">
                Login / Register
            </button>
        </form>
    </div>
}
else
{
    <p>Welcome back!</p>

    <!-- USER PROFILE BUTTON -->
    <form asp-controller="User" asp-action="Profile" method="get" class="d-inline">
        <input type="hidden" name="id" value="@Model.CurrentUserId" />
        <button class="btn btn-success">
            Go to Your Profile
        </button>
    </form>

    <!-- LOGOUT BUTTON -->
    <form asp-controller="Home" asp-action="Logout" method="post" class="d-inline ms-2">
        <button type="submit" class="btn btn-danger">
            Logout
        </button>
    </form>
}

<hr />

<!-- ================================================== -->
<!-- FEATURED GAMES -->
<!-- ================================================== -->
<h2>Featured Games</h2>

@if (Model.FeaturedGames == null || !Model.FeaturedGames.Any())
{
    <p>No featured games available.</p>
}
else
{
    <div class="row">
        @foreach (var g in Model.FeaturedGames)
        {
            <div class="col-md-3 mb-3">
                <div class="card p-2">
                    <a asp-controller="Game" asp-action="Details" asp-route-id="@g.GameId">
                        <img src="@g.CoverUrl"
                             alt="@g.Title"
                             class="img-fluid"
                             style="max-height:180px; object-fit:cover;" />
                        <div>@g.Title</div>
                    </a>
                </div>
            </div>
        }
    </div>
}
